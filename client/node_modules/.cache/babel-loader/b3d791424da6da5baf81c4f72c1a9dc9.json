{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\benny\\\\Desktop\\\\Ejercicios React\\\\MERN App\\\\client\\\\src\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from 'react';\nimport { Form, Input, Button } from 'antd';\nimport 'antd/dist/antd.css';\nimport './Login.css';\nimport ProtectedRoute from './ProtectedRoute.js';\nimport { DataContext } from '../context/DataContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const {\n    setIsAuth\n  } = useContext(DataContext);\n\n  const onClick = () => {\n    setLoading(true);\n    setTimeout(() => {\n      setLoading(false);\n    }, 2000);\n  };\n\n  async function loginUser(event) {\n    const response = await fetch('http://localhost:1337/api/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    const data = await response.json();\n\n    if (data.user) {\n      localStorage.setItem('token', data.user);\n      setIsAuth(true);\n      alert('Login successful');\n      window.location.href = '/';\n    } else {\n      alert('Please check your username and password');\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Please Log In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        name: \"basic\",\n        labelCol: {\n          span: 8\n        },\n        wrapperCol: {\n          span: 16\n        },\n        initialValues: {\n          remember: true\n        },\n        onFinish: loginUser,\n        autoComplete: \"off\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Email\",\n          name: \"email\",\n          rules: [{\n            required: true,\n            message: 'Please input your email!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Password\",\n          name: \"password\",\n          rules: [{\n            required: true,\n            message: 'Please input your password!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input.Password, {\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          wrapperCol: {\n            offset: 8,\n            span: 16\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            loading: loading,\n            onClick: onClick,\n            htmlType: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"ITB9fO9RzH9mV+h1m+RhU+ZiG+E=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/benny/Desktop/Ejercicios React/MERN App/client/src/pages/Login.js"],"names":["useState","useEffect","useContext","Form","Input","Button","ProtectedRoute","DataContext","Login","email","setEmail","password","setPassword","loading","setLoading","setIsAuth","onClick","setTimeout","loginUser","event","response","fetch","method","headers","body","JSON","stringify","data","json","user","localStorage","setItem","alert","window","location","href","span","remember","required","message","e","target","value","offset"],"mappings":"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","sourcesContent":["import { useState, useEffect,useContext } from 'react'\r\nimport { Form, Input, Button } from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport './Login.css';\r\nimport ProtectedRoute from './ProtectedRoute.js'\r\nimport { DataContext } from '../context/DataContext'\r\n\r\nfunction Login() {\r\n\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [loading, setLoading] = useState(false);  \r\n  const {setIsAuth} = useContext(DataContext);\r\n\r\n  const onClick = () => {\r\n    setLoading(true);\r\n\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 2000);\r\n  };\r\n\r\n  async function loginUser(event) {    \r\n    const response = await fetch('http://localhost:1337/api/login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    })\r\n    const data = await response.json()\r\n    if (data.user) {\r\n      localStorage.setItem('token', data.user)          \r\n      setIsAuth(true)\r\n      alert('Login successful')\r\n      window.location.href = '/'\r\n    } else {\r\n      alert('Please check your username and password')\r\n    }\r\n  }  \r\n  return (        \r\n    <div className=\"login-wrapper\">\r\n      <h1>Please Log In</h1>\r\n      <div className=\"form\">      \r\n        <Form\r\n          name=\"basic\"\r\n          labelCol={{\r\n            span: 8,\r\n          }}\r\n          wrapperCol={{\r\n            span: 16,\r\n          }}\r\n          initialValues={{\r\n            remember: true,\r\n          }}\r\n          onFinish={loginUser}\r\n          autoComplete=\"off\"\r\n        >\r\n          <Form.Item\r\n            label=\"Email\"\r\n            name=\"email\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'Please input your email!',\r\n              },\r\n            ]}            \r\n          >\r\n            <Input onChange={(e) => setEmail(e.target.value)}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label=\"Password\"\r\n            name=\"password\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'Please input your password!',\r\n              },\r\n            ]}\r\n          >\r\n            <Input.Password onChange={(e) => setPassword(e.target.value)}/>\r\n          </Form.Item>\r\n          <Form.Item\r\n            wrapperCol={{\r\n              offset: 8,\r\n              span: 16,\r\n            }}\r\n          >\r\n            <Button type=\"primary\" loading={loading} onClick={onClick} htmlType=\"submit\">\r\n              Login\r\n            </Button>            \r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </div>             \r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}