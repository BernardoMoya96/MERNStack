{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\benny\\\\Desktop\\\\Ejercicios React\\\\MERN App\\\\client\\\\src\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useContext } from 'react';\nimport { Form, Input, Button } from 'antd';\nimport 'antd/dist/antd.css';\nimport './Login.css';\nimport { DataContext } from '../context/DataContext';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const {\n    setIsAuth\n  } = useContext(DataContext);\n\n  const onClick = () => {\n    setLoading(true);\n    setTimeout(() => {\n      setLoading(false);\n    }, 2000);\n  };\n\n  async function loginUser() {\n    const response = await fetch('http://localhost:1337/api/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    const data = await response.json();\n\n    if (data.user) {\n      localStorage.setItem('token', data.user);\n      setIsAuth(true);\n      alert('Login successful');\n      navigate('/');\n      return true;\n    } else {\n      alert('Please check your username and password');\n      return false;\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Please Log In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        name: \"basic\",\n        labelCol: {\n          span: 8\n        },\n        wrapperCol: {\n          span: 16\n        },\n        initialValues: {\n          remember: true\n        },\n        onFinish: loginUser,\n        autoComplete: \"off\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Email\",\n          name: \"email\",\n          rules: [{\n            required: true,\n            message: 'Please input your email!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"Email\",\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Password\",\n          name: \"password\",\n          rules: [{\n            required: true,\n            message: 'Please input your password!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input.Password, {\n            placeholder: \"Password\",\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Login\",\n          wrapperCol: {\n            offset: 8,\n            span: 16\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            loading: loading,\n            onClick: onClick,\n            htmlType: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"lQuZBYmQj1Q6Pv5azf7XxzReaFs=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/benny/Desktop/Ejercicios React/MERN App/client/src/pages/Login.js"],"names":["useState","useEffect","useContext","Form","Input","Button","DataContext","useNavigate","Login","navigate","email","setEmail","password","setPassword","loading","setLoading","setIsAuth","onClick","setTimeout","loginUser","response","fetch","method","headers","body","JSON","stringify","data","json","user","localStorage","setItem","alert","span","remember","required","message","e","target","value","offset"],"mappings":"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","sourcesContent":["import { useState, useEffect,useContext } from 'react'\r\nimport { Form, Input, Button } from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport './Login.css';\r\nimport { DataContext } from '../context/DataContext'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [loading, setLoading] = useState(false);  \r\n  const {setIsAuth} = useContext(DataContext);\r\n\r\n  const onClick = () => {\r\n    setLoading(true);\r\n\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 2000);\r\n  };\r\n\r\n  async function loginUser() {    \r\n    const response = await fetch('http://localhost:1337/api/login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    })\r\n    const data = await response.json()\r\n    if (data.user) {\r\n      localStorage.setItem('token', data.user)    \r\n      setIsAuth(true)\r\n      alert('Login successful')            \r\n      navigate('/')\r\n      return true;\r\n    } else {\r\n      alert('Please check your username and password')      \r\n      return false;\r\n    }\r\n  }  \r\n  \r\n  return (\r\n    <div className=\"login-wrapper\">\r\n      <h1>Please Log In</h1>\r\n      <div className=\"form\">      \r\n        <Form\r\n          name=\"basic\"\r\n          labelCol={{\r\n            span: 8,\r\n          }}\r\n          wrapperCol={{\r\n            span: 16,\r\n          }}\r\n          initialValues={{\r\n            remember: true,\r\n          }}\r\n          onFinish={loginUser}\r\n          autoComplete=\"off\"\r\n        >\r\n          <Form.Item\r\n            label=\"Email\"\r\n            name=\"email\"            \r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'Please input your email!',\r\n              },\r\n            ]}            \r\n          >\r\n            <Input placeholder='Email' onChange={(e) => setEmail(e.target.value)}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label=\"Password\"\r\n            name=\"password\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'Please input your password!',\r\n              },\r\n            ]}\r\n          >\r\n            <Input.Password placeholder='Password' onChange={(e) => setPassword(e.target.value)}/>\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"Login\" \r\n            wrapperCol={{\r\n              offset: 8,\r\n              span: 16,\r\n            }}\r\n          >\r\n            <Button type=\"primary\" loading={loading} onClick={onClick} htmlType=\"submit\">\r\n              Login\r\n            </Button>            \r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}