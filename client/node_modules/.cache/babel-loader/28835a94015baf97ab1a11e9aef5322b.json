{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\benny\\\\Desktop\\\\Ejercicios React\\\\MERN App\\\\client\\\\src\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { Form, Input, Button } from 'antd';\nimport 'antd/dist/antd.css';\nimport './Login.css';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const onClick = () => {\n    setLoading(true);\n    setTimeout(() => {\n      setLoading(false);\n    }, 2000);\n  };\n\n  const success = () => {\n    toast.success('Successfully toasted!');\n  };\n\n  async function loginUser(event) {\n    event.preventDefault();\n    const response = await fetch('http://localhost:1337/api/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    const data = await response.json();\n\n    if (data.user) {\n      localStorage.setItem('token', data.user);\n      alert('Login successful');\n      window.location.href = '/dashboard';\n    } else {\n      alert('Please check your username and password');\n    }\n  }\n\n  const handleSubmit = async e => {\n    success();\n    const token = await loginUser({\n      username,\n      password\n    });\n    setToken(token);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Please Log In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        name: \"basic\",\n        labelCol: {\n          span: 8\n        },\n        wrapperCol: {\n          span: 16\n        },\n        initialValues: {\n          remember: true\n        },\n        onFinish: handleSubmit,\n        autoComplete: \"off\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Email\",\n          name: \"email\",\n          rules: [{\n            required: true,\n            message: 'Please input your email!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Password\",\n          name: \"password\",\n          rules: [{\n            required: true,\n            message: 'Please input your password!'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input.Password, {\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          wrapperCol: {\n            offset: 8,\n            span: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            loading: loading,\n            onClick: onClick,\n            htmlType: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Toaster, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"Tug1/1aWx/KAV2WSZABTI7relys=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/benny/Desktop/Ejercicios React/MERN App/client/src/pages/Login.js"],"names":["useState","Form","Input","Button","toast","Toaster","Login","email","setEmail","password","setPassword","loading","setLoading","onClick","setTimeout","success","loginUser","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","user","localStorage","setItem","alert","window","location","href","handleSubmit","e","token","username","setToken","span","remember","required","message","target","value","offset"],"mappings":"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","sourcesContent":["import { useState } from 'react'\r\nimport { Form, Input, Button } from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport './Login.css';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\n\r\nfunction Login() {\r\n\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const onClick = () => {\r\n    setLoading(true);\r\n\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 2000);\r\n  };\r\n  const success = () => {\r\n    toast.success('Successfully toasted!');\r\n  }\r\n\r\n  async function loginUser(event) {\r\n    event.preventDefault()\r\n    const response = await fetch('http://localhost:1337/api/login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    })\r\n    const data = await response.json()\r\n    if (data.user) {\r\n      localStorage.setItem('token', data.user)\r\n      alert('Login successful')\r\n      window.location.href = '/dashboard'\r\n    } else {\r\n      alert('Please check your username and password')\r\n    }\r\n  }\r\n  const handleSubmit = async e => {\r\n    success();\r\n    const token = await loginUser({\r\n        username,\r\n        password\r\n    });\r\n    setToken(token);\r\n}\r\n  return (\r\n    <div className=\"login-wrapper\">\r\n      <h1>Please Log In</h1>\r\n      <div className=\"form\">      \r\n        <Form\r\n          name=\"basic\"\r\n          labelCol={{\r\n            span: 8,\r\n          }}\r\n          wrapperCol={{\r\n            span: 16,\r\n          }}\r\n          initialValues={{\r\n            remember: true,\r\n          }}\r\n          onFinish={handleSubmit}\r\n          autoComplete=\"off\"\r\n        >\r\n          <Form.Item\r\n            label=\"Email\"\r\n            name=\"email\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'Please input your email!',\r\n              },\r\n            ]}            \r\n          >\r\n            <Input onChange={(e) => setEmail(e.target.value)}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label=\"Password\"\r\n            name=\"password\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'Please input your password!',\r\n              },\r\n            ]}\r\n          >\r\n            <Input.Password onChange={(e) => setPassword(e.target.value)}/>\r\n          </Form.Item>\r\n          <Form.Item\r\n            wrapperCol={{\r\n              offset: 8,\r\n              span: 16,\r\n            }}\r\n          >\r\n            <Button type=\"primary\" loading={loading} onClick={onClick} htmlType=\"submit\">\r\n              Login\r\n            </Button>\r\n            <Toaster />\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}